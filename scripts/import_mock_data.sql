-- AI HR SaaS Mock Data Import Script
-- This script imports mock data from frontend mock-data.ts
-- Database: postgres://postgres:postgrespw@localhost:55000

-- Clean existing data (optional, comment out if you want to keep existing data)
-- TRUNCATE TABLE 
--   chat_messages, chat_sessions, candidate_chat_history, 
--   interviews, recruitment_tasks, ai_match_results, 
--   job_preferences, education_histories, project_experiences, work_experiences,
--   resumes, job_channels, channels, jobs, 
--   auth_tokens, user_settings, users, tenants 
-- CASCADE;

-- ==============================================
-- 1. Create Tenant
-- ==============================================
INSERT INTO tenants (id, name, company_name, contact_email, plan_type, status, max_users, max_jobs, created_at, updated_at)
VALUES 
  ('00000000-0000-0000-0000-000000000001', '演示公司', 'Demo Company Ltd.', 'demo@example.com', 'pro', 'active', 50, 100, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 2. Create Users
-- ==============================================
-- Password: "password123" (bcrypt hashed)
INSERT INTO users (id, tenant_id, name, email, password_hash, role, is_active, created_at, updated_at)
VALUES 
  ('10000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'AI助手', 'ai@demo.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5NU0hKMwfFsHO', 'admin', TRUE, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('10000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '王总监', 'wang@demo.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5NU0hKMwfFsHO', 'hr', TRUE, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('10000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '张经理', 'zhang@demo.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5NU0hKMwfFsHO', 'recruiter', TRUE, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('10000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '李技术总监', 'li@demo.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5NU0hKMwfFsHO', 'admin', TRUE, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 3. Create Jobs
-- ==============================================
INSERT INTO jobs (
  id, tenant_id, title, department, location, type, status, 
  min_salary, max_salary, description, requirements, preferred_schools,
  recruitment_invitation, min_age, max_age, gender, education, job_level,
  applicants_count, created_by, created_at, updated_at, published_at
)
VALUES 
  (
    '20000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '高级前端工程师',
    '技术部',
    '北京',
    'full-time',
    'open',
    25000,
    40000,
    '负责公司核心产品的前端开发工作',
    ARRAY['5年以上前端开发经验', '精通React/Vue', '有大型项目经验'],
    ARRAY['清华大学', '北京大学', '浙江大学', '上海交通大学'],
    '我们正在寻找有激情的前端工程师加入我们的团队，共同打造下一代产品。',
    25,
    35,
    'unlimited',
    '本科及以上',
    'P6-P7',
    23,
    '10000000-0000-0000-0000-000000000001',
    '2025-01-05 00:00:00+00',
    CURRENT_TIMESTAMP,
    '2025-01-05 00:00:00+00'
  ),
  (
    '20000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    'HR经理',
    '人力资源部',
    '上海',
    'full-time',
    'open',
    20000,
    30000,
    '负责公司招聘和人力资源管理工作',
    ARRAY['3年以上HR管理经验', '熟悉招聘流程', '良好的沟通能力'],
    ARRAY[]::TEXT[],
    '加入我们，帮助公司吸引和培养最优秀的人才。',
    28,
    40,
    'unlimited',
    '本科及以上',
    'M1',
    15,
    '10000000-0000-0000-0000-000000000001',
    '2025-01-08 00:00:00+00',
    CURRENT_TIMESTAMP,
    '2025-01-08 00:00:00+00'
  ),
  (
    '20000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    '产品经理',
    '产品部',
    '深圳',
    'full-time',
    'open',
    30000,
    50000,
    '负责产品规划和需求管理',
    ARRAY['5年以上产品经验', 'B端产品经验优先', '数据驱动思维'],
    ARRAY['复旦大学', '中山大学'],
    '寻找有远见的产品经理，一起定义产品的未来。',
    28,
    38,
    'unlimited',
    '本科及以上',
    'P7-P8',
    31,
    '10000000-0000-0000-0000-000000000001',
    '2025-01-10 00:00:00+00',
    CURRENT_TIMESTAMP,
    '2025-01-10 00:00:00+00'
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 4. Create Channels
-- ==============================================
INSERT INTO channels (
  id, tenant_id, name, type, status, applicants_count,
  annual_cost, cost_currency, contact_person, contact_email,
  description, last_sync_at, created_at, updated_at
)
VALUES 
  (
    '30000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '智联招聘',
    'job-board',
    'active',
    156,
    50000.00,
    'CNY',
    '张经理',
    'zhang@zhaopin.com',
    '国内领先的招聘平台，覆盖各行业人才。',
    '2025-01-13 12:00:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '30000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '猎聘',
    'job-board',
    'active',
    89,
    80000.00,
    'CNY',
    '李总监',
    'li@liepin.com',
    '专注中高端人才招聘。',
    '2025-01-13 11:30:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '30000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    'BOSS直聘',
    'job-board',
    'active',
    203,
    60000.00,
    'CNY',
    '王主管',
    'wang@zhipin.com',
    '直接与求职者沟通的招聘平台。',
    '2025-01-13 12:15:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '30000000-0000-0000-0000-000000000004',
    '00000000-0000-0000-0000-000000000001',
    'LinkedIn',
    'social-media',
    'active',
    45,
    30000.00,
    'CNY',
    'Sarah Chen',
    'sarah@linkedin.com',
    '全球职业社交平台。',
    '2025-01-13 10:00:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '30000000-0000-0000-0000-000000000005',
    '00000000-0000-0000-0000-000000000001',
    '内部推荐',
    'referral',
    'active',
    67,
    0.00,
    'CNY',
    NULL,
    NULL,
    '员工内部推荐渠道。',
    '2025-01-13 12:30:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 5. Create Job-Channel Relations
-- ==============================================
INSERT INTO job_channels (id, tenant_id, job_id, channel_id, published_at, views_count, clicks_count)
VALUES 
  ('35000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000001', '2025-01-05 10:00:00+00', 150, 45),
  ('35000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000003', '2025-01-05 10:30:00+00', 200, 58),
  ('35000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000002', '2025-01-08 11:00:00+00', 120, 35),
  ('35000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000001', '2025-01-10 09:00:00+00', 180, 52),
  ('35000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000002', '2025-01-10 09:30:00+00', 165, 48),
  ('35000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '20000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000003', '2025-01-10 10:00:00+00', 210, 63)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 6. Create Resumes
-- ==============================================
INSERT INTO resumes (
  id, tenant_id, candidate_name, email, phone, position, status,
  source, source_channel_id, job_id, experience_years, education_level,
  age, gender, location, school, major, skills,
  conversation_summary, submitted_at, created_at, updated_at
)
VALUES 
  (
    '40000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '张伟',
    'zhangwei@example.com',
    '13800138000',
    '高级前端工程师',
    'pending',
    '智联招聘',
    '30000000-0000-0000-0000-000000000001',
    '20000000-0000-0000-0000-000000000001',
    '6年',
    '本科',
    29,
    'male',
    '北京',
    '北京大学',
    '计算机科学与技术',
    ARRAY['React', 'TypeScript', 'Node.js', 'Next.js'],
    '候选人张伟在字节跳动有丰富的前端开发经验，主导开发了抖音创作者平台，技术栈完全匹配（React/TypeScript/Next.js）。在性能优化方面有深入实践，成功将页面加载时间从3s优化到1s以内。薪资期望35K-45K，但表示可以根据项目挑战性调整。预计2月1日可到岗。候选人对技术挑战和团队氛围较为看重，态度积极，沟通顺畅，强烈推荐安排技术面试。',
    '2025-01-13 10:30:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '40000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '李娜',
    'lina@example.com',
    '13900139000',
    'HR经理',
    'interview',
    '猎聘',
    '30000000-0000-0000-0000-000000000002',
    '20000000-0000-0000-0000-000000000002',
    '4年',
    '硕士',
    32,
    'female',
    '上海',
    '复旦大学',
    '人力资源管理',
    ARRAY['招聘管理', '绩效考核', '员工关系'],
    '候选人李娜在阿里巴巴有4年招聘经验，去年成功招聘50+技术人才，包括5位P8专家。她建立了完整的技术人才评估体系，并引入AI辅助筛选提高效率。目前管理6人招聘团队，团队效率提升40%。对AI在招聘中的应用有深入理解和实践。薪资期望25K-35K，3月1日可到岗。候选人管理经验丰富，注重团队赋能，推荐安排面试。',
    '2025-01-12 14:20:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '40000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    '王强',
    'wangqiang@example.com',
    '13700137000',
    '产品经理',
    'reviewing',
    'BOSS直聘',
    '30000000-0000-0000-0000-000000000003',
    '20000000-0000-0000-0000-000000000001',
    '7年',
    '本科',
    33,
    'male',
    '深圳',
    '中山大学',
    '软件工程',
    ARRAY['产品规划', '需求分析', 'Axure', 'SQL'],
    NULL,
    '2025-01-13 09:15:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '40000000-0000-0000-0000-000000000004',
    '00000000-0000-0000-0000-000000000001',
    '刘芳',
    'liufang@example.com',
    '13600136000',
    '高级前端工程师',
    'pending',
    '拉勾网',
    NULL,
    '20000000-0000-0000-0000-000000000001',
    '5年',
    '本科',
    28,
    'female',
    '杭州',
    '浙江大学',
    '软件工程',
    ARRAY['Vue', 'React', 'Webpack', 'CSS'],
    NULL,
    '2025-01-13 11:45:00+00',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 7. Create Work Experiences
-- ==============================================
INSERT INTO work_experiences (
  id, tenant_id, resume_id, company, position, start_date, end_date, description, sort_order, created_at
)
VALUES 
  ('41000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', '字节跳动', '高级前端工程师', '2021-03', '至今', '负责抖音Web端核心功能开发，优化页面性能，提升用户体验。', 0, CURRENT_TIMESTAMP),
  ('41000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', '美团', '前端工程师', '2019-07', '2021-02', '参与外卖平台前端开发，实现多个重要功能模块。', 1, CURRENT_TIMESTAMP),
  ('41000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', '阿里巴巴', '招聘经理', '2021-01', '至今', '负责技术团队招聘，年均招聘50+人才。', 0, CURRENT_TIMESTAMP),
  ('41000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000003', '腾讯', '高级产品经理', '2020-05', '至今', '负责企业微信核心功能规划和迭代。', 0, CURRENT_TIMESTAMP),
  ('41000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000004', '网易', '前端工程师', '2020-07', '至今', '负责网易云音乐Web端开发。', 0, CURRENT_TIMESTAMP)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 8. Create Project Experiences
-- ==============================================
INSERT INTO project_experiences (
  id, tenant_id, resume_id, project_name, role, start_date, end_date, description, technologies, sort_order, created_at
)
VALUES 
  (
    '42000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000001',
    '抖音创作者平台',
    '前端负责人',
    '2022-06',
    '2024-12',
    '从0到1搭建创作者平台，支持百万级创作者使用。',
    ARRAY['React', 'TypeScript', 'Next.js', 'TailwindCSS'],
    0,
    CURRENT_TIMESTAMP
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 9. Create Education Histories
-- ==============================================
INSERT INTO education_histories (
  id, tenant_id, resume_id, school, degree, major, start_date, end_date, sort_order, created_at
)
VALUES 
  ('43000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', '北京大学', '本科', '计算机科学与技术', '2015-09', '2019-06', 0, CURRENT_TIMESTAMP),
  ('43000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', '复旦大学', '硕士', '人力资源管理', '2018-09', '2021-06', 0, CURRENT_TIMESTAMP),
  ('43000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000003', '中山大学', '本科', '软件工程', '2012-09', '2016-06', 0, CURRENT_TIMESTAMP),
  ('43000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000004', '浙江大学', '本科', '软件工程', '2016-09', '2020-06', 0, CURRENT_TIMESTAMP)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 10. Create Job Preferences
-- ==============================================
INSERT INTO job_preferences (
  id, tenant_id, resume_id, expected_salary, preferred_locations, job_type, available_date, created_at
)
VALUES 
  ('44000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', '35K-45K', ARRAY['北京', '上海'], '全职', '2025-02-01', CURRENT_TIMESTAMP),
  ('44000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', '25K-35K', ARRAY['上海'], '全职', '2025-03-01', CURRENT_TIMESTAMP),
  ('44000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000003', '40K-55K', ARRAY['深圳', '广州'], '全职', '2025-02-15', CURRENT_TIMESTAMP),
  ('44000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000004', '30K-40K', ARRAY['杭州', '上海'], '全职', '2025-01-20', CURRENT_TIMESTAMP)
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 11. Create AI Match Results
-- ==============================================
INSERT INTO ai_match_results (
  id, tenant_id, resume_id, job_id, is_match, match_score, reason, strengths, weaknesses, recommendation, analyzed_at
)
VALUES 
  (
    '45000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000001',
    '20000000-0000-0000-0000-000000000001',
    TRUE,
    92,
    '候选人具备丰富的前端开发经验，技术栈完全匹配，有大厂背景，项目经验丰富。',
    ARRAY['6年前端开发经验', '熟练掌握React/TypeScript', '有字节跳动等大厂经验', '项目架构能力强'],
    ARRAY['缺少移动端开发经验'],
    '强烈推荐面试，技术能力和项目经验都很符合要求',
    '2025-01-13 10:35:00+00'
  ),
  (
    '45000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000002',
    '20000000-0000-0000-0000-000000000002',
    TRUE,
    88,
    '具备丰富的HR管理经验，专业背景匹配，有大厂招聘经验，能力全面。',
    ARRAY['4年HR管理经验', '专业对口', '有阿里巴巴招聘经验', '年均招聘50+人才'],
    ARRAY['缺少跨国公司经验'],
    '推荐面试，HR专业能力强，招聘经验丰富',
    '2025-01-12 14:25:00+00'
  ),
  (
    '45000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000003',
    '20000000-0000-0000-0000-000000000001',
    FALSE,
    45,
    '虽然有丰富的产品经验，但技术背景不够强，缺少前端开发经验，与高级前端工程师职位不匹配。',
    ARRAY['7年产品管理经验', '有腾讯大厂背景', '逻辑思维能力强'],
    ARRAY['缺少前端开发经验', '技术栈不匹配', '职业方向偏差较大'],
    '不建议面试此职位，建议关注产品经理相关职位',
    '2025-01-13 09:20:00+00'
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 12. Create Candidate Chat History
-- ==============================================
INSERT INTO candidate_chat_history (
  id, tenant_id, resume_id, sender, message, message_type, created_at
)
VALUES 
  -- 张伟的聊天历史
  ('46000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'ai', '您好，张伟！我是贵公司的AI招聘助手。我们看到您投递了高级前端工程师的职位，您的简历非常出色！能否简单介绍一下您在字节跳动的主要工作内容？', 'greeting', '2025-01-13 10:35:00+00'),
  ('46000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'candidate', '您好！我在字节跳动主要负责抖音创作者平台的前端开发，从0到1搭建了整个平台，目前支持百万级创作者使用。主要技术栈是React + TypeScript + Next.js。', 'answer', '2025-01-13 10:42:00+00'),
  ('46000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'ai', '非常棒的经历！我注意到您的项目中大量使用了TypeScript和Next.js，这正是我们目前技术栈的核心。能详细说说您在性能优化方面的经验吗？', 'question', '2025-01-13 10:43:00+00'),
  ('46000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'candidate', '在性能优化方面，我做过很多工作：1) 使用React.memo和useMemo减少不必要的重渲染；2) 实现虚拟滚动处理大列表；3) 使用代码分割和懒加载优化首屏加载；4) 通过SSR提升SEO和首屏性能。这些优化让页面加载时间从3s降到了1s以内。', 'answer', '2025-01-13 10:48:00+00'),
  ('46000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'ai', '太棒了！您的经验完全符合我们的需求。关于薪资期望，您提到35K-45K，我们的预算范围是25K-40K，不过考虑到您的优秀背景，我们可以争取更高的package。您最快什么时候可以到岗？', 'question', '2025-01-13 10:50:00+00'),
  ('46000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'candidate', '我的离职交接需要一个月，预计2月1日可以到岗。关于薪资，我比较看重公司的发展空间和技术氛围，如果项目有挑战性，薪资可以适当调整。', 'answer', '2025-01-13 10:55:00+00'),
  ('46000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', 'ai', '非常感谢您的理解！我们公司目前正在做一个创新性的产品，技术挑战性很高，团队氛围也很好。我会安排我们的技术总监与您进行面试，预计本周内会有HR联系您确定具体时间。', 'schedule', '2025-01-13 10:58:00+00'),
  
  -- 李娜的聊天历史
  ('46000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'ai', '李娜您好！感谢您投递我们HR经理的职位。看到您在阿里巴巴有4年的招聘经验，能分享一下您最自豪的招聘成果吗？', 'greeting', '2025-01-12 14:25:00+00'),
  ('46000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'candidate', '您好！我最自豪的是去年为技术团队招聘了50多位优秀人才，其中包括5位P8级别的技术专家。我建立了一套完整的技术人才评估体系，大大提高了招聘效率和质量。', 'answer', '2025-01-12 14:30:00+00'),
  ('46000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'ai', '这个成绩非常亮眼！您能详细说说这套技术人才评估体系是如何运作的吗？', 'question', '2025-01-12 14:32:00+00'),
  ('46000000-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'candidate', '这套体系主要包括三个维度：1) 技术能力评估（编程能力、系统设计、技术深度）；2) 软实力评估（沟通能力、团队协作、学习能力）；3) 文化匹配度。我们还引入了AI辅助筛选，大大提高了初筛效率。', 'answer', '2025-01-12 14:38:00+00'),
  ('46000000-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'ai', '您对AI在招聘中的应用很有见解！这正是我们看重的。您目前的团队规模有多大？管理经验如何？', 'question', '2025-01-12 14:40:00+00'),
  ('46000000-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000002', 'candidate', '我目前管理一个6人的招聘团队，负责技术和产品线的招聘。我比较注重团队赋能，会定期组织培训和分享会，团队的招聘效率在过去一年提升了40%。', 'answer', '2025-01-12 14:45:00+00')
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 13. Create Recruitment Tasks
-- ==============================================
INSERT INTO recruitment_tasks (
  id, tenant_id, job_id, job_title, status, created_by,
  channels_published, total_channels, resumes_viewed, greetings_sent,
  conversations_active, resumes_requested, resumes_received, interviews_scheduled,
  created_at, updated_at
)
VALUES 
  (
    '50000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '20000000-0000-0000-0000-000000000001',
    '高级前端工程师',
    'in-progress',
    '10000000-0000-0000-0000-000000000001',
    2, 3, 45, 23, 12, 15, 8, 3,
    '2025-01-10 09:00:00+00',
    CURRENT_TIMESTAMP
  ),
  (
    '50000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '20000000-0000-0000-0000-000000000002',
    'HR经理',
    'in-progress',
    '10000000-0000-0000-0000-000000000001',
    1, 2, 28, 15, 8, 10, 6, 2,
    '2025-01-11 10:30:00+00',
    CURRENT_TIMESTAMP
  ),
  (
    '50000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    '20000000-0000-0000-0000-000000000003',
    '产品经理',
    'completed',
    '10000000-0000-0000-0000-000000000001',
    3, 3, 67, 31, 5, 20, 15, 5,
    '2025-01-08 14:00:00+00',
    '2025-01-12 18:00:00+00'
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 14. Create Interviews
-- ==============================================
INSERT INTO interviews (
  id, tenant_id, candidate_id, candidate_name, position,
  interview_date, interview_time, interviewer, interviewer_title,
  type, status, location, meeting_link, notes,
  created_at, updated_at
)
VALUES 
  (
    '60000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000002',
    '李娜',
    'HR经理',
    '2025-01-15',
    '14:00:00',
    '王总监',
    '人力资源总监',
    'video',
    'scheduled',
    NULL,
    'https://meet.example.com/abc123',
    '重点考察招聘管理经验和团队协作能力',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '60000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000003',
    '王强',
    '产品经理',
    '2025-01-14',
    '10:00:00',
    '张经理',
    '产品总监',
    'onsite',
    'scheduled',
    '深圳市南山区科技园',
    NULL,
    '准备产品案例分析题目',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  ),
  (
    '60000000-0000-0000-0000-000000000003',
    '00000000-0000-0000-0000-000000000001',
    '40000000-0000-0000-0000-000000000001',
    '张伟',
    '高级前端工程师',
    '2025-01-16',
    '15:30:00',
    '李技术总监',
    '技术总监',
    'video',
    'scheduled',
    NULL,
    'https://meet.example.com/xyz789',
    '技术面试，重点考察React和性能优化',
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 15. Create Chat Sessions
-- ==============================================
INSERT INTO chat_sessions (
  id, tenant_id, user_id, title, created_at, updated_at
)
VALUES 
  ('70000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '10000000-0000-0000-0000-000000000001', '招聘咨询 - 前端工程师', '2025-01-13 09:00:00+00', '2025-01-13 15:30:00+00'),
  ('70000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '10000000-0000-0000-0000-000000000001', '面试安排 - HR经理', '2025-01-12 14:00:00+00', '2025-01-12 16:45:00+00'),
  ('70000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '10000000-0000-0000-0000-000000000001', '数据分析 - 招聘效果', '2025-01-11 10:00:00+00', '2025-01-11 11:30:00+00')
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 16. Create Chat Messages
-- ==============================================
INSERT INTO chat_messages (
  id, tenant_id, session_id, role, content, message_type, created_at
)
VALUES 
  -- Session 1: 招聘咨询 - 前端工程师
  ('71000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000001', 'assistant', '你好！我是AI招聘助手，很高兴为您服务。我可以帮助您筛选简历、安排面试、分析招聘数据等。请问需要什么帮助？', 'text', '2025-01-13 09:00:00+00'),
  ('71000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000001', 'user', '帮我筛选一下前端工程师的简历', 'text', '2025-01-13 09:01:00+00'),
  ('71000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000001', 'assistant', '我已经为你筛选了最近的简历。发现3份高质量简历匹配高级前端工程师职位，其中张伟的简历匹配度最高（92分），有6年经验和字节跳动背景。李明的简历也不错（85分），有阿里巴巴经验。建议优先面试这两位候选人。', 'text', '2025-01-13 09:02:00+00'),
  ('71000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000001', 'user', '张伟的技术栈怎么样？', 'text', '2025-01-13 15:25:00+00'),
  ('71000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000001', 'assistant', '张伟的技术栈非常匹配我们的需求：\n\n✅ 前端框架：React、Vue.js\n✅ 开发语言：TypeScript、JavaScript\n✅ 构建工具：Webpack、Vite\n✅ 后端技能：Node.js、Express\n✅ 数据库：MySQL、MongoDB\n\n他在字节跳动负责抖音Web端核心功能开发，有大型项目架构经验。建议安排技术面试。', 'text', '2025-01-13 15:30:00+00'),
  
  -- Session 2: 面试安排 - HR经理
  ('71000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000002', 'user', '帮我安排李娜的面试', 'text', '2025-01-12 14:00:00+00'),
  ('71000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000002', 'assistant', '好的，我来帮您安排李娜（HR经理职位）的面试。根据她的简历，她有4年HR经验，目前在阿里巴巴担任招聘经理。建议安排以下面试流程：\n\n1. 初面：HR部门负责人（30分钟）\n2. 专业面试：业务部门经理（45分钟）\n3. 终面：VP或总监级别（30分钟）\n\n您希望什么时候开始安排？', 'text', '2025-01-12 14:01:00+00'),
  ('71000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000002', 'user', '明天下午可以吗？', 'text', '2025-01-12 16:40:00+00'),
  ('71000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000002', 'assistant', '明天下午的时间安排如下：\n\n📅 1月13日（明天）\n🕐 14:00-14:30 初面（HR王总监）\n🕐 14:45-15:30 专业面试（业务部门张经理）\n🕐 15:45-16:15 终面（VP李总）\n\n面试地点：公司会议室A\n已发送面试邀请邮件给候选人，请确认是否需要调整。', 'text', '2025-01-12 16:45:00+00'),
  
  -- Session 3: 数据分析 - 招聘效果
  ('71000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000003', 'user', '分析一下这个月的招聘数据', 'text', '2025-01-11 10:00:00+00'),
  ('71000000-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000003', 'assistant', '📊 本月招聘数据分析（截至1月11日）：\n\n📈 **整体数据**\n• 收到简历：156份（↑23% vs上月）\n• 安排面试：45场（↑15% vs上月）\n• 发出offer：12个（↑8% vs上月）\n• 入职确认：8人（↑33% vs上月）\n\n🎯 **转化率**\n• 简历→面试：28.8%（行业平均25%）\n• 面试→offer：26.7%（行业平均20%）\n• offer→入职：66.7%（行业平均70%）\n\n💡 **建议**：offer接受率略低，建议优化薪酬包装和候选人体验。', 'text', '2025-01-11 10:05:00+00'),
  ('71000000-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000003', 'user', '哪个渠道效果最好？', 'text', '2025-01-11 11:25:00+00'),
  ('71000000-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000001', '70000000-0000-0000-0000-000000000003', 'assistant', '🏆 **招聘渠道效果排名**：\n\n1. **BOSS直聘** - 42份简历，转化率32%\n2. **智联招聘** - 38份简历，转化率28%\n3. **猎聘网** - 31份简历，转化率25%\n4. **拉勾网** - 28份简历，转化率22%\n5. **内推** - 17份简历，转化率65%（质量最高）\n\n💰 **成本效益**：内推成本最低且质量最高，建议加大内推激励力度。BOSS直聘虽然量大但成本适中，可以作为主要渠道。', 'text', '2025-01-11 11:30:00+00')
ON CONFLICT (id) DO NOTHING;

-- ==============================================
-- 17. Success Message
-- ==============================================
SELECT 'Mock data imported successfully!' AS status;

-- Verify data counts
SELECT 
  (SELECT COUNT(*) FROM tenants) AS tenants_count,
  (SELECT COUNT(*) FROM users) AS users_count,
  (SELECT COUNT(*) FROM jobs) AS jobs_count,
  (SELECT COUNT(*) FROM channels) AS channels_count,
  (SELECT COUNT(*) FROM job_channels) AS job_channels_count,
  (SELECT COUNT(*) FROM resumes) AS resumes_count,
  (SELECT COUNT(*) FROM work_experiences) AS work_experiences_count,
  (SELECT COUNT(*) FROM project_experiences) AS project_experiences_count,
  (SELECT COUNT(*) FROM education_histories) AS education_histories_count,
  (SELECT COUNT(*) FROM job_preferences) AS job_preferences_count,
  (SELECT COUNT(*) FROM ai_match_results) AS ai_match_results_count,
  (SELECT COUNT(*) FROM candidate_chat_history) AS candidate_chat_history_count,
  (SELECT COUNT(*) FROM recruitment_tasks) AS recruitment_tasks_count,
  (SELECT COUNT(*) FROM interviews) AS interviews_count,
  (SELECT COUNT(*) FROM chat_sessions) AS chat_sessions_count,
  (SELECT COUNT(*) FROM chat_messages) AS chat_messages_count;

